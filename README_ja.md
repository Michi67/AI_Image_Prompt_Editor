# AI Image Prompt Editor - ユーザーマニュアル

## はじめに

**最初にAI_Image_Prompt_Editor.htmlを開いてから、「Load Keywords」ボタンを押して、Initial_setting_keywordsファイルを読み込んでください。**

このファイルには基本的なキーワードデータが含まれており、ツールを使用するために必要です。

## 概要
AI Image Prompt Editorは、AI画像生成プロンプトの作成と管理を行う包括的なツールです。高度なキーワード管理、強調制御、プリセットの保存/読み込み、ドラッグアンドドロップによるカテゴリ整理などの機能を備えています。

## 機能

### 1. キーワード管理
- **キーワード読み込み**: JSONファイルからキーワードデータをインポート（設定情報も復元）
- **キーワード保存**: タイムスタンプ付きで全キーワードデータと設定情報をJSONファイルにエクスポート
- **キーワード追加**: カテゴリ、説明、複数バリエーションを含む新しいキーワードを作成
- **キーワード削除**: 確認ダイアログ付きでキーワードを削除
- **キーワード編集**: ダブルクリックでキー名と説明を編集
- **説明表示制御**: 「Show desc」チェックボックスでキーワード説明の表示/非表示を切り替え

### 2. 強調制御
- **強化**: `+`ボタンで強調を増加（最大2.0倍）
- **弱化**: `-`ボタンで強調を減少（最小1.0倍）
- **フォーマット**: キーワードは強化時は`(keyword:1.2)`、弱化時は`[keyword:1.2]`としてフォーマット

### 3. プリセット管理
- **プリセット保存**: 強調設定を含む現在のキーワード選択を保存
- **プリセット読み込み**: 以前に保存したキーワード設定を読み込み
- **自動登録**: プリセット読み込み時に不足しているキーワードとカテゴリを自動追加

### 4. カテゴリ整理
- **ドラッグアンドドロップ**: プロンプトとネガティブプロンプトセクション内でカテゴリを並び替え
- **視覚的フィードバック**: ドラッグ中のスムーズなアニメーションと視覚的インジケーター
- **分離エリア**: カテゴリはプロンプトとネガティブプロンプトセクション間で移動不可

## 使用方法

### はじめに
1. **キーワード読み込み**: 「Load Keywords」をクリックしてキーワードデータをインポート
2. **説明表示設定**: 「Show desc」チェックボックスでキーワード説明の表示/非表示を設定
3. **キーワード選択**: カテゴリ別リストから希望のキーワードにチェック
4. **強調調整**: `+`と`-`ボタンでキーワードの強度を変更
5. **出力生成**: 出力エリアでフォーマットされたプロンプトを確認

### 新しいキーワードの追加
1. 「Prompt Keywords」の横の「Add」ボタンをクリック
2. フォームに記入：
   - **Type**: 「prompt」または「negative prompt」を選択
   - **Category**: 既存のカテゴリを入力または選択
   - **Description**: カテゴリの説明を追加
   - **Key**: キーワードテキストを入力
   - **Desc**: キーワードの説明を追加
   - **Count**: 作成するバリエーション数を選択（1-20）
3. 「Add」をクリックしてキーワードを作成

### キーワードの削除
1. 「Prompt Keywords」の横の「Del」ボタンをクリック
2. タイプ（Prompt/Negative Prompt）を選択
3. カテゴリを選択
4. 削除したいキーワードにチェック
5. 「Del」をクリックして削除を確認

### プリセットの管理
1. **プリセット保存**: キーワードを選択・調整後、「Save Presets」をクリック
2. **プリセット読み込み**: 「Load Presets」をクリックしてプリセットファイルを選択
3. **自動補完**: 不足しているキーワードはデータに自動追加

### カテゴリの整理
- カテゴリタイトルをドラッグして、それぞれのセクション内で並び替え
- プロンプトキーワードのカテゴリは、そのセクション内でのみ並び替え可能
- ネガティブプロンプトキーワードのカテゴリは、そのセクション内でのみ並び替え可能

## ファイル形式

### キーワードJSON構造
```json
{
  "prompt": [
    {
      "category": "カテゴリ名",
      "description": "カテゴリの説明",
      "keywords": [
        {
          "key": "キーワードテキスト",
          "desc": "キーワードの説明"
        }
      ]
    }
  ],
  "negative_prompt": [
    // プロンプトと同じ構造
  ],
  "settings": {
    "showDesc": true,
    "checkedKeywords": {
      "prompt": [
        {"category": "カテゴリ名", "key": "キーワードテキスト"}
      ],
      "negative_prompt": [
        {"category": "カテゴリ名", "key": "キーワードテキスト"}
      ]
    }
  }
}
```

### プリセットJSON構造
```json
{
  "prompt": [
    {
      "key": "キーワードテキスト",
      "category": "カテゴリ名",
      "description": "カテゴリの説明",
      "desc": "キーワードの説明",
      "emphasisType": "normal|strong|weak",
      "emphasisValue": 1.0
    }
  ],
  "negative": [
    // プロンプトと同じ構造
  ]
}
```

## ヒントとベストプラクティス

### キーワードの整理
- より良い整理のために説明的なカテゴリ名を使用
- 関連するキーワードを同じカテゴリにグループ化
- キーと説明に一貫した命名規則を使用

### 強調の使用
- 強調したい重要な要素には強化（1.2-2.0）を使用
- 重要性を下げたい要素には弱化（1.0）を使用
- 最適なバランスを見つけるために異なる強調値をテスト

### プリセット管理
- 異なるアートスタイルや主題用にプリセットを作成
- プリセットファイルに説明的な名前を使用
- キーワードデータとプリセットを定期的にバックアップ

### パフォーマンス
- ツールは大きなキーワードデータセットを効率的に処理
- ドラッグアンドドロップ操作は視覚的フィードバックでスムーズ
- すべての操作はクライアントサイドで実行され、高速な応答

## トラブルシューティング

### よくある問題
1. **キーワードが読み込まれない**: JSONファイルが正しい構造であることを確認
2. **プリセットが動作しない**: プリセットファイルに有効なキーワード参照が含まれていることを確認
3. **ドラッグアンドドロップが動作しない**: 個別のキーワードではなく、カテゴリタイトルをドラッグしていることを確認

### データ復旧
- すべてのキーワードデータはブラウザのメモリに保存
- データをバックアップするために「Save Keywords」を定期的に使用
- 保存時にキーワードの選択状態と説明表示設定も含まれる
- プリセットファイルは設定の追加バックアップとして機能

## 技術仕様

### ブラウザ互換性
- ES6+をサポートするモダンブラウザ
- JavaScriptの有効化が必要
- Chrome、Firefox、Safari、Edgeで最適に動作

### ファイル処理
- すべてのファイル操作はクライアントサイド
- データは外部サーバーに送信されない
- プライバシーとセキュリティのためにファイルはローカルで処理

---

## ライセンス

MITライセンス

Copyright (c) 2025 Michihiro.Takagi

このソフトウェアおよび関連する文書ファイル（「ソフトウェア」）のコピーを取得した人は、
制限なく、ソフトウェアを扱うことができます。これには、使用、コピー、修正、マージ、公開、
配布、サブライセンス、および/またはソフトウェアのコピーを販売する権利が含まれます。
また、ソフトウェアが提供される人に上記の権利を許可する権利も含まれます。

上記の著作権表示およびこの許可表示は、ソフトウェアのすべてのコピーまたは重要な部分に含まれます。

ソフトウェアは「現状のまま」提供され、明示または黙示を問わず、商品性、特定目的への適合性、
および非侵害性に関する保証を含みません。いかなる場合においても、作者または著作権者は、
契約、不法行為、またはその他の行為に関わらず、ソフトウェアまたはソフトウェアの使用または
その他の取引から生じる請求、損害、またはその他の責任について責任を負いません。

### お問い合わせ
ご質問やサポートについては、作者にお問い合わせください。

**メールアドレス:** Michihiro.Takagi@gmail.com

**機能リクエスト:** 機能リクエストについては掲示板をご利用ください。

**技術サポート:** 作者はCursorの勉強でこのツールを作成したため、技術サポートは少し難しいかもしれません。

---

## リリースノート

### v1.0.0 (2025-01-27)
- **新機能**
  - キーワード説明の表示/非表示切り替え機能（Show descチェックボックス）
  - キーワードの選択状態と説明表示設定の保存/復元機能
  - サポートメッセージの追加（Ko-fiリンク）
  - バージョン表記の追加（v1.0.0）

---

## サポート

このツールを気に入ってもらえたら下記URLから協力をお願いします。
https://ko-fi.com/sia0621 